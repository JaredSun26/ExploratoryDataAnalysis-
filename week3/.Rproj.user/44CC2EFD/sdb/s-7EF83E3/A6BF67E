{
    "contents" : "library(ggplot2)\n\n#download data\ndownload.file(\"https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip\",destfile=\"data.zip\")\nunzip(\"./data.zip\")\n#read the dataset\npm25<- readRDS(\"./summarySCC_PM25.rds\")\nscc<- readRDS(\"./Source_Classification_Code.rds\")\n\n#find the scc corresponding to coal combustion\nscc_coal<-scc[grep(pattern=\"coal\", scc$Short.Name, ignore.case=TRUE), 1]\n\n#find the pm25 emissions related with coal combustion\npm25_coal<-pm25[pm25$SCC %in% scc_coal,]\n\n#plot\npng(\"plot4.png\")\ng<-ggplot(pm25_coal, aes(year, Emissions))\ng+stat_summary(geom=\"line\", fun.y=\"sum\")+\n  ylab(\"Total PM2.5 Emission (ton)\")+\n  ggtitle(\"Total PM2.5 emission from coal combustion-related sources from 1999 to 2008\")\ndev.off()\n\n",
    "created" : 1430083600347.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4151559670",
    "id" : "A6BF67E",
    "lastKnownWriteTime" : 1430084804,
    "path" : "E:/SkyDrive/Courses achive/ExploratoryDataAnalysis-Coursera/week3/plot4.R",
    "project_path" : "plot4.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}